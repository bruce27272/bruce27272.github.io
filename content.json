{"meta":{"title":"美食工程師","subtitle":"","description":"","author":"Bruce","url":"https://bruce27272.github.io","root":"/"},"pages":[{"title":"food","date":"2023-08-04T00:55:48.000Z","updated":"2023-08-04T00:55:48.825Z","comments":true,"path":"food/index.html","permalink":"https://bruce27272.github.io/food/index.html","excerpt":"","text":""},{"title":"標籤#","date":"2023-08-04T01:25:48.000Z","updated":"2023-08-04T02:24:40.998Z","comments":true,"path":"tags/index.html","permalink":"https://bruce27272.github.io/tags/index.html","excerpt":"","text":""},{"title":"關於我","date":"2023-08-04T02:17:36.000Z","updated":"2023-08-04T02:30:58.069Z","comments":true,"path":"about/index.html","permalink":"https://bruce27272.github.io/about/index.html","excerpt":"","text":"一個熱愛吃美食的小小工程師 為了記錄工作及生活而建立這個部落格"},{"title":"分類","date":"2023-08-04T01:26:12.000Z","updated":"2023-08-04T02:24:25.427Z","comments":true,"path":"categories/index.html","permalink":"https://bruce27272.github.io/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"Google Analytics 4（GA4）之 Hexo Next主題","slug":"GoogleAnalytics4","date":"2023-08-08T10:52:23.000Z","updated":"2023-08-08T08:53:55.926Z","comments":true,"path":"2023/08/08/GoogleAnalytics4/","link":"","permalink":"https://bruce27272.github.io/2023/08/08/GoogleAnalytics4/","excerpt":"在建立網站後，想說要運用Google Analytics來觀察瀏覽人數 找了一些資料後，發現Google Analytics於2023年7月開始要使用Google Analytics 4(GA4)來設定 目前我使用的Next主題需要做些調整才能順利抓取數據 很久以前有用過Google Analytics 但已經忘記如何申請 就重新申請並藉由這次做個紀錄","text":"在建立網站後，想說要運用Google Analytics來觀察瀏覽人數 找了一些資料後，發現Google Analytics於2023年7月開始要使用Google Analytics 4(GA4)來設定 目前我使用的Next主題需要做些調整才能順利抓取數據 很久以前有用過Google Analytics 但已經忘記如何申請 就重新申請並藉由這次做個紀錄 在輸入串流網址後，在完成建立後可以看到串流ID跟評估ID 接著找到需加入的程式碼，複製以下程式碼 接著要註解掉主题配置文件中代碼及追踪ID 檔案位置 &#x2F;themes&#x2F;next&#x2F;_config.yml # Google Analytics#google_analytics: xxxxxx 更改主題文件google-analytics.njk 檔案位置 &#x2F;themes&#x2F;next&#x2F;layout&#x2F;_third-party&#x2F;analytics&#x2F;google-analytics.njk 原本的程式碼，建議先備份 &#123;%- if theme.google_analytics.tracking_id %&#125; &#123;%- if not theme.google_analytics.only_pageview %&#125; &lt;script async src=&quot;https://www.googletagmanager.com/gtag/js?id=&#123;&#123; theme.google_analytics.tracking_id &#125;&#125;&quot;&gt;&lt;/script&gt; &#123;%- endif %&#125; &#123;&#123; next_data('google_analytics', theme.google_analytics) &#125;&#125; &#123;&#123; next_js('third-party/analytics/google-analytics.js') &#125;&#125; &#123;%- endif %&#125; 然後貼上剛剛複製的程式碼，如下圖 接著回到Google Analytics主控台就可以看到資料已收集","categories":[{"name":"技術紀錄","slug":"技術紀錄","permalink":"https://bruce27272.github.io/categories/%E6%8A%80%E8%A1%93%E7%B4%80%E9%8C%84/"}],"tags":[{"name":"Google Analytics","slug":"Google-Analytics","permalink":"https://bruce27272.github.io/tags/Google-Analytics/"},{"name":"Hexo","slug":"Hexo","permalink":"https://bruce27272.github.io/tags/Hexo/"},{"name":"Hexo Next","slug":"Hexo-Next","permalink":"https://bruce27272.github.io/tags/Hexo-Next/"}]},{"title":"Brocade/Ruckus-ICX7150 韌體升級及常用指令","slug":"ruckus-7150","date":"2023-08-04T03:43:13.000Z","updated":"2023-08-07T08:31:34.183Z","comments":true,"path":"2023/08/04/ruckus-7150/","link":"","permalink":"https://bruce27272.github.io/2023/08/04/ruckus-7150/","excerpt":"正式的第一篇文章!! 最近工作上要將公司內用的Edge端交換器進行韌體更新 前一份工作沒碰過Ruckus的交換器 公司採用的是Brocade&#x2F;Ruckus ICX-7150 找了一些資訊及供應商提供的韌體升級指令，就做點紀錄 本次要升級至目前最新版本08.0.95j版本 因目前交換器版本較舊為08.0.61b 升級會分2次升級，因08.0.95j為UFI韌體版本 UFI版本具供應商指出，為包含韌體及boot檔 與之前non-UFI版本為韌體及boot檔分開版本不同 因08.0.61b版本過舊，需先升級為08.0.90版本作為跳版再升級為08.0.95j","text":"正式的第一篇文章!! 最近工作上要將公司內用的Edge端交換器進行韌體更新 前一份工作沒碰過Ruckus的交換器 公司採用的是Brocade&#x2F;Ruckus ICX-7150 找了一些資訊及供應商提供的韌體升級指令，就做點紀錄 本次要升級至目前最新版本08.0.95j版本 因目前交換器版本較舊為08.0.61b 升級會分2次升級，因08.0.95j為UFI韌體版本 UFI版本具供應商指出，為包含韌體及boot檔 與之前non-UFI版本為韌體及boot檔分開版本不同 因08.0.61b版本過舊，需先升級為08.0.90版本作為跳版再升級為08.0.95j 以下為原本升級計畫的更新指令 #升級 90d 插入隨身碟 #mount disk0 #copy disk0 flash SPS08090d.bin secondary #copy disk0 flash SPS08090d.bin primary #copy disk0 flash mnz10115.bin bootrom #conf t#boot system flash primary#end#wr me#reload #升級 95j #mount disk0#copy disk0 flash SPS08095jufi.bin secondary#copy disk0 flash SPS08095jufi.bin primary #reload#y 降韌體 按b 進入底層 #printenv 將本機IP設定為server ip #setenv image_name SPS08090d.bin#setenv uboot mnz10115.bin#update_primary#update_secondary#update_uboot (會置換uboot partition 2)#boot_primary#reset 重開後 按b 進入底層 #update_uboot (會置換uboot partition 1) #reset 但實際更新時發現61版的韌體不知是否有Bug 在放入90d的韌體，下指令重啟後，會陷入無限重啟的迴圈內， 進入底層發現 bootimge 還是在61版 所以要使用TFTP的方式，將90d及uboot檔案放入來進行更新(即使用原先要降韌體的方式) 順利更新至90d後 即可採正常方式更新至95j 以下為ICX-7150常用指令，Ruckus交換器應該通用 設定Switch的設備名稱：#configure terminal#hostname ruckusswitch 設定IP及預設閘道：#configure terminal#ip address 10.7.7.239 255.255.255.0#ip default-gateway 10.7.7.254 設定telnet連線登入密碼：#configure terminal#enable telnet password Pw123456 設定Enable密碼：#configure terminal#enable super-user-password Pw123456 備份設定檔案至TFTP Server：#copy startup-config tftp 192.168.1.1 test.cfg 還原設定檔至Switch開機設定檔：#copy tftp startup-config 192.168.1.1 test.cfg 關閉web管理功能：#configure terminal#no web-management http 設定網路校時功能(假設NTP Server IP為192.168.100.100)：#configure terminal#clock timezone gmt GMT+08#ntp#server 192.168.100.100 查詢Switch目前的韌體版本：#show flash 查詢Switch設備序號：#show version 重新開機：#reload 儲存Switch設定：#write memory 啟動10G介面：#license install perpetual 1 4x10gr授權詢問選”Y”#configure terminal#interface ethernet 1/3/1 to 1/3/4#speed-duplex 10g-full 查看mini gbic是否有正常啟動：#show media 關閉頁面顯示分頁功能(Disable page display mode)：#skip 啟動頁面顯示分頁功能(Enable page display mode)：#page 查詢Switch Port狀態：#show interfaces brief 設定介面啟動底層迴圈偵測功能(loop detection)：#configure terminal#interface ethernet 1/1/1#loop-detection 顯示目前底層迴圈偵測狀態：#show loop-detection status 解除底層迴圈封鎖狀態：#clear loop-detection 顯示時取消分頁顯示：#skip 顯示時使用分頁顯示：#page","categories":[{"name":"技術紀錄","slug":"技術紀錄","permalink":"https://bruce27272.github.io/categories/%E6%8A%80%E8%A1%93%E7%B4%80%E9%8C%84/"}],"tags":[{"name":"Ruckus","slug":"Ruckus","permalink":"https://bruce27272.github.io/tags/Ruckus/"},{"name":"韌體升級","slug":"韌體升級","permalink":"https://bruce27272.github.io/tags/%E9%9F%8C%E9%AB%94%E5%8D%87%E7%B4%9A/"},{"name":"ICX7150","slug":"ICX7150","permalink":"https://bruce27272.github.io/tags/ICX7150/"},{"name":"Brocade","slug":"Brocade","permalink":"https://bruce27272.github.io/tags/Brocade/"}]},{"title":"第一篇","slug":"website","date":"2023-08-03T01:49:23.000Z","updated":"2023-08-04T04:04:45.377Z","comments":true,"path":"2023/08/03/website/","link":"","permalink":"https://bruce27272.github.io/2023/08/03/website/","excerpt":"","text":"搞了幾天，總算建立完成，第一次自行用程式的方式建立部落格，還要多多熟悉。","categories":[],"tags":[]}],"categories":[{"name":"技術紀錄","slug":"技術紀錄","permalink":"https://bruce27272.github.io/categories/%E6%8A%80%E8%A1%93%E7%B4%80%E9%8C%84/"}],"tags":[{"name":"Google Analytics","slug":"Google-Analytics","permalink":"https://bruce27272.github.io/tags/Google-Analytics/"},{"name":"Hexo","slug":"Hexo","permalink":"https://bruce27272.github.io/tags/Hexo/"},{"name":"Hexo Next","slug":"Hexo-Next","permalink":"https://bruce27272.github.io/tags/Hexo-Next/"},{"name":"Ruckus","slug":"Ruckus","permalink":"https://bruce27272.github.io/tags/Ruckus/"},{"name":"韌體升級","slug":"韌體升級","permalink":"https://bruce27272.github.io/tags/%E9%9F%8C%E9%AB%94%E5%8D%87%E7%B4%9A/"},{"name":"ICX7150","slug":"ICX7150","permalink":"https://bruce27272.github.io/tags/ICX7150/"},{"name":"Brocade","slug":"Brocade","permalink":"https://bruce27272.github.io/tags/Brocade/"}]}